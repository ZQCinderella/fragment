# git
  开发过程中经常遇到一些情况,当你正在进行一项任务的开发时(p1)，另一个紧急需求(p0)临门一脚插入了进来，这时你不得不停下手里的工作，但是已经开发中的代码又不想提交，这时候怎么解决呢？
  我们来假设目前在 **dev** 分支开发。
  
### 1、将正在开发的内容检出到新分支
>dev:  git checkout -b dev_temp 创建一个临时分支保存正在编辑的代码。

*   当前分支是dev_temp，并且之前的开发内容都在新分支上
*   正常进行提交（add, commit）,然后切换到旧分支 dev上，发现dev分支干净，没有之前编辑的内容。
*   在dev上继续开发紧急需求，然后提交。（p0上线完成）

>经过以上三步已经成功处理了紧急需求，那么回到原本的工作，切换回**dev_temp**分支，但是不能拿**dev_temp**直接上线，因为当前分支内，并不包含**p0**的代码，强行上线会有conflict, 或者更糟糕的是，直接把p0的代码冲掉了。这时候我们可以选择两种解决办法
    
*   将dev_temp分支作为 p1任务的开发分支，这时需要将dev的代码更新到该分支，**git rebase dev** (你的分支没有被当做公共分支使用时可以这么做) 或者 **git merge dev**
*   继续使用dev作为p1的开发分支，需要把dev_temp分支的p1内容更新到dev分支，**git merge dev_temp**


### 2、将正在编辑的内容方式缓存区。
> git add . && git stash  (注意只有被add过后的内容才能被stash)

具体书写代码的过程有三步

*   git add . && git stash （这时git status是空的）
*   书写紧急的p0任务，然后提交，上线。
*   git stash pop 将缓存区中的内容弹出。（git status 可查看p1内容）

> 可以进行多次git stash操作, 缓存区有一个缓存列表

*   git stash list 查看当前有几次缓存操作
*   git apply stash@{n}  弹出缓存区中指定的内容

    **如果直接使用git stash pop，那么一次命令只会弹出一条缓存数据,弹出顺序与stash顺序倒置。比如 stash 1, stash 2 那么stash pop的时候，2先被弹出，1再弹出。**
